#include<iostream> 
#include<fstream>
#include<string.h>
using namespace std;
class Queuearray
{
	public:		
		Queuearray():capacity(1000000),front(-1),back(-1)
		{
        queue = new int[capacity];
    };
		void push(int x);
		void pop();
		int getFront();
		void morecapacity();
	private:
	    int capacity, front, back;
        int *queue;	
};
int Queuearray::getFront()
{
	return queue[front+1];
}
void Queuearray::pop()
{
	front++;
}
void Queuearray::push(int x)
{
	
	queue[++back]=x;
}

void Queuearray::morecapacity()
{
    capacity=capacity+2;
}
int main(int argc,char*argv[])
{
    int peaks=0;
    Queuearray peak;
    int r,c,i,j;
	fstream fin;
	string folderin;
    string folderout;
    string pathin,pathout;
    string start;
    folderin = "/matrix.data";
    folderout = "/final.peak";
    start ="./";
    pathin = start+argv[1] + folderin;
    pathout = start+argv[1] + folderout;
    fin.open(pathin,ios::in);
    fin>>r;fin>>c;
    int matrix[r][c];
    for(i=0;i<r;i++) //?岳????  (??芣??質縐?剜???? 
	{
		for(j=0;j<c;j++)
		{
			fin>>matrix[i][j];
		}
	}
    fin.close;

    i=0;j=0;
for(i=0;i<r;i++)
{
	for(j=0;j<c;j++)
	{
	
	    if(i==0 && j==0){
		
		if(matrix[i][j]>=matrix[i+1][j]&&matrix[i][j]>=matrix[i][j+1])//?潘撓貔???????嚚?????鞈??剜謘?謖蹌???peak??
			{
				peaks=peaks+1;//?嚗畸????1 ??
				//peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????		
			}}
			else if(i==0 && j==c-1) //?????
		{
			if(matrix[i][j]>=matrix[i+1][j] && matrix[i][j]>= matrix[i][j-1])
			{
				peaks=peaks+1;//?嚗畸????1 ??
				//peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}			
		} 
		else if(i==r-1 && j==0)//???恃???
		{
		    if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i][j+1])
			{
				peaks=peaks+1;//?嚗畸????1 ??
				//peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}	
		}
		else if (i==r-1 && j==c-1)//????恃???
		{
			if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i][j-1])
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		} 
		else if(i==0 && j!=0 && j!=c-1)//???????????秋撫?????????
		{
		if(matrix[i][j]>=matrix[i+1][j] && matrix[i][j]>= matrix[i][j-1] && matrix[i][j]>=matrix[i][j+1])//????秋撮???????????秋撮???????????
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		} 
		else if(i==r-1 && j!=0 && j!=c-1)//???? 
		{
		if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i][j-1] && matrix[i][j]>=matrix[i][j+1])//?????????
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		} 
		else if(i!=r-1 && j==0 && i!=0)//???? 
		{
		if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i+1][j] && matrix[i][j]>=matrix[i][j+1])//????????
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		} 
				else if(i!=r-1 && j==c-1 && i!=0)//????? 
		{
		if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i+1][j] && matrix[i][j]>=matrix[i][j-1])//????????
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		}
		else if(i!=0&&i!=r-1&&j!=0&&j!=c-1)//?????
		{
			if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>= matrix[i+1][j] && matrix[i][j]>=matrix[i][j-1]&& matrix[i][j]>=matrix[i][j+1])//???????????
			{
				peaks=peaks+1;//?嚗畸????1 ??
			//	peak.morecapacity();//????????祆慫???QUEUE??銋??
				peak.push(i+1);peak.push(j+1);//?殉朱??嚗畸??慫???????殉市,y?謕????綽??蝞??蹇???伐??????
			}
		}
	}	
}

ofstream result;
result.open(pathout,ios::out);
result<<peaks<<endl;
   for(i=0;i<peaks;i++)
     {
     	result<<peak.getFront()<<" ";peak.pop();
     	result<<peak.getFront()<<endl;peak.pop();
	 }
     result.close;
     return 0;
}
